<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <script src="https://code.jquery.com/jquery-1.9.1.min.js"></script>
	<title>Rapido</title>
    <link rel="icon" href="favicon.png" type="image/png" sizes="16x16">
	<style type="text/css" media="screen">
	@import url('https://fonts.googleapis.com/css?family=Spectral+SC');
	html, body {
	    width: 100%;
	    height: 100%;
	    padding: 0;
	    margin: 0;
	}
	.centered-wrapper {
	    position: relative;
	    text-align: center;
		background-color: #117A9D;
	}
	.centered-wrapper:before {
	    content: "";
	    position: relative;
	    display: inline-block;
	    width: 0; height: 100%;
	    vertical-align: middle;
	}
	.centered-content {
		width: 55%;
	    display: inline-block;
	    vertical-align: middle;
	}
	.download {
		border: #EEEEEE;
		border-style: solid;
		border-width: 2pt;
		margin: 5pt;
	}
	.logo {
		width: 50pt;
		height: 50pt;
		margin-right: 25pt;
	}
	.link {
		text-decoration: none;
	}
	.label {
		font-size: 65pt;
		text-align: center;
		color: #DDDDDD;
		font-family: 'Spectral SC', serif;
	}
	.label-small {
		font-size: 20pt;
		text-align: center;
		color: #DDDDDD;
		font-family: 'Spectral SC', serif;
		margin: 5pt;
	}
	.label-small-first {
		font-size: 20pt;
		text-align: center;
		color: #FFFFFF;
		font-family: 'Spectral SC', serif;
		margin: 5pt;
	}
	.download-first {
		border: #FFFFFF;
		border-style: solid;
		border-width: 2pt;
		margin: 5pt;
	}
	</style>

	<body class="centered-wrapper">
		<div id="VersionList" class="centered-content">
		</div>
	</body>

	<script>
		function getVersions(){			
			$.get(
				"versions.txt",
				function(data) {
					var first = true;
					var allVersions = data.split('\n');
					var versionList = document.getElementById('VersionList');

					var url = new URL(window.location.href);
					var parameters = url.searchParams;

					var minVersion = parameters.get('minVersion');
					var maxVersion = parameters.get('maxVersion');

					allVersions.forEach(version => {	
						if((minVersion == null || minVersion <= version) && (maxVersion == null || maxVersion >= version)){		
							var link = document.createElement('a');
							link.text = 'Version v' + + version[0] + '.' + version[1] + version[2] + '.' + version[3];;
							link.setAttribute('href', version);

							var div = document.createElement('div');

							if(first){
								link.className = "link label-small-first";
								div.className = "download-first";
								first = false;
							}
							else{
								link.className = "link label-small";
								div.className = "download";
							}
							
							div.appendChild(link);
							versionList.appendChild(div);
						}
					});
				}
			);
		}
		jQuery(document).ready(function ($){
			getVersions();
		});
	</script>
</html>
